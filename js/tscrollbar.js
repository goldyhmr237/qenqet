(function(d,t,p){function q(a){if(b.webkit&&!a)return{height:0,width:0};b.data.outer||(a={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"},b.data.inner=d("<div>").css(d.extend({},a)),b.data.outer=d("<div>").css(d.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},a)).append(b.data.inner).appendTo("body"));b.data.outer.scrollLeft(1E3).scrollTop(1E3);return{height:Math.ceil(b.data.outer.offset().top-b.data.inner.offset().top||0),
width:Math.ceil(b.data.outer.offset().left-b.data.inner.offset().left||0)}}function x(a,f){d(t).on({"blur.scrollbar":function(){d(t).add("body").off(".scrollbar");a&&a()},"dragstart.scrollbar":function(c){c.preventDefault();return!1},"mouseup.scrollbar":function(){d(t).add("body").off(".scrollbar");a&&a()}});d("body").on({"selectstart.scrollbar":function(c){c.preventDefault();return!1}});f&&f.preventDefault();return!1}function B(){var a=q(!0);return!(a.height||a.width)}function v(a){a=a.originalEvent;
return a.axis&&a.axis===a.HORIZONTAL_AXIS||a.wheelDeltaX?!1:!0}var b={data:{},macosx:-1!==p.navigator.platform.toLowerCase().indexOf("mac"),mobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(p.navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/WebKit/.test(p.navigator.userAgent),log:function(){}},y={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!0,ignoreOverlay:!0,scrollStep:30,showArrows:!1,stepScrolling:!0,type:"simple",scrollx:null,
scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},z=function(a,f){b.scroll||(b.log("Init tQuery Scrollbars"),b.overlay=B(),b.scroll=q(),r(),d(p).resize(function(){var c=!1;if(b.scroll&&(b.scroll.height||b.scroll.width)){var a=q();if(a.height!=b.scroll.height||a.width!=b.scroll.width)b.scroll=a,c=!0}r(c)}));this.container=a;this.options=d.extend({},y,p.tQueryScrollbarOptions||{});this.scrollTo=null;this.scrollx={};this.scrolly={};this.init(f)};z.prototype={destroy:function(){if(this.wrapper){var a=
this.container.scrollLeft(),f=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:""}).removeClass("scroll-content").removeClass("scroll-scrollx_visible").removeClass("scroll-scrolly_visible").off(".scrollbar").scrollLeft(a).scrollTop(f);this.scrollx.scrollbar.removeClass("scroll-scrollx_visible").find("div").andSelf().off(".scrollbar");this.scrolly.scrollbar.removeClass("scroll-scrolly_visible").find("div").andSelf().off(".scrollbar");this.wrapper.remove();
d(t).add("body").off(".scrollbar");d.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},getScrollbar:function(a){var f=this.options["scroll"+a],c={advanced:'<div class="scroll-element_corner"></div><div class="scroll-arrow scroll-arrow_less"></div><div class="scroll-arrow scroll-arrow_more"></div><div class="scroll-element_outer">    <div class="scroll-element_size"></div>    <div class="scroll-element_inner-wrapper">        <div class="scroll-element_inner scroll-element_track">            <div class="scroll-element_inner-bottom"></div>        </div>    </div>    <div class="scroll-bar">        <div class="scroll-bar_body">            <div class="scroll-bar_body-inner"></div>        </div>        <div class="scroll-bar_bottom"></div>        <div class="scroll-bar_center"></div>    </div></div>',
simple:'<div class="scroll-element_outer">    <div class="scroll-element_size"></div>    <div class="scroll-element_track"></div>    <div class="scroll-bar"></div></div>'},b=c[this.options.type]?this.options.type:"advanced",f=f?"string"==typeof f?d(f).appendTo(this.wrapper):d(f):d("<div>").addClass("scroll-element").html(c[b]).appendTo(this.wrapper);this.options.showArrows&&f.addClass("scroll-element_arrows_visible");return f.addClass("scroll-"+a)},init:function(a){var f=this,c=this.container,k=this.containerWrapper||
c,g=d.extend(this.options,a||{}),e={x:this.scrollx,y:this.scrolly},m=this.wrapper;a=c.scrollLeft();var p=c.scrollTop();if(b.mobile&&g.ignoreMobile||b.overlay&&g.ignoreOverlay||b.macosx&&!b.webkit)return!1;if(m)k.css({height:"","margin-bottom":-1*b.scroll.height+"px","margin-right":-1*b.scroll.width+"px"});else{this.wrapper=m=d("<div>").addClass("scroll-wrapper").addClass(c.attr("class")).css("position","absolute"==c.css("position")?"absolute":"relative").insertBefore(c).append(c);c.is("textarea")&&
(this.containerWrapper=k=d("<div>").insertBefore(c).append(c),m.addClass("scroll-textarea"));k.addClass("scroll-content").css({height:"","margin-bottom":-1*b.scroll.height+"px","margin-right":-1*b.scroll.width+"px"});c.on("scroll.scrollbar",function(a){d.isFunction(g.onScroll)&&g.onScroll.call(f,{maxScroll:e.y.maxScrollOffset,scroll:c.scrollTop(),size:e.y.size,visible:e.y.visible},{maxScroll:e.x.maxScrollOffset,scroll:c.scrollLeft(),size:e.x.size,visible:e.x.visible});e.x.isVisible&&e.x.scroller.css("left",
c.scrollLeft()*e.x.kx+"px");e.y.isVisible&&e.y.scroller.css("top",c.scrollTop()*e.y.kx+"px")});m.on("scroll",function(){m.scrollTop(0).scrollLeft(0)});if(g.disableBodyScroll){var q=function(c){v(c)?e.y.isVisible&&e.y.mousewheel(c):e.x.isVisible&&e.x.mousewheel(c)};m.on({"MozMousePixelScroll.scrollbar":q,"mousewheel.scrollbar":q});if(b.mobile)m.on("touchstart.scrollbar",function(a){a=a.originalEvent.touches&&a.originalEvent.touches[0]||a;var h=a.pageX,f=a.pageY,e=c.scrollLeft(),b=c.scrollTop();d(t).on({"touchmove.scrollbar":function(a){var d=
a.originalEvent.targetTouches&&a.originalEvent.targetTouches[0]||a;c.scrollLeft(e+h-d.pageX);c.scrollTop(b+f-d.pageY);a.preventDefault()},"touchend.scrollbar":function(){d(t).off(".scrollbar")}})})}d.isFunction(g.onInit)&&g.onInit.apply(this,[c])}d.each(e,function(a,h){var b=null,u=1,n="x"==a?"scrollLeft":"scrollTop",k=g.scrollStep,m=function(){var a=c[n]();c[n](a+k);1==u&&a+k>=l&&(a=c[n]());-1==u&&a+k<=l&&(a=c[n]());c[n]()==a&&b&&b()},l=0;h.scrollbar||(h.scrollbar=f.getScrollbar(a),h.scroller=h.scrollbar.find(".scroll-bar"),
h.mousewheel=function(b){if(!h.isVisible||"x"==a&&v(b))return!0;if("y"==a&&!v(b))return e.x.mousewheel(b),!0;var d=-1*b.originalEvent.wheelDelta||b.originalEvent.detail,g=h.size-h.visible-h.offset;0>=l&&0>d||l>=g&&0<d||(l+=d,0>l&&(l=0),l>g&&(l=g),f.scrollTo=f.scrollTo||{},f.scrollTo[n]=l,setTimeout(function(){f.scrollTo&&(c.stop().animate(f.scrollTo,240,"linear",function(){l=c[n]()}),f.scrollTo=null)},1));b.preventDefault();return!1},h.scrollbar.on({"MozMousePixelScroll.scrollbar":h.mousewheel,"mousewheel.scrollbar":h.mousewheel,
"mouseenter.scrollbar":function(){l=c[n]()}}),h.scrollbar.find(".scroll-arrow, .scroll-element_track").on("mousedown.scrollbar",function(e){if(1!=e.which)return!0;u=1;var p=e["x"==a?"pageX":"pageY"],t=h.size-h.visible-h.offset,w=h.scroller.offset()["x"==a?"left":"top"],q=h.scroller["x"==a?"outerWidth":"outerHeight"](),r=0,v=0;d(this).hasClass("scroll-arrow")?(u=d(this).hasClass("scroll-arrow_more")?1:-1,k=g.scrollStep*u,l=0<u?t:0):(u=p>w+q?1:p<w?-1:0,k=Math.round(.75*h.visible)*u,l=p-w-(g.stepScrolling?
1==u?q:0:Math.round(q/2)),l=c[n]()+l/h.kx);f.scrollTo=f.scrollTo||{};f.scrollTo[n]=g.stepScrolling?c[n]()+k:l;g.stepScrolling&&(b=function(){l=c[n]();clearInterval(v);clearTimeout(r);v=r=0},r=setTimeout(function(){v=setInterval(m,40)},g.duration+100));setTimeout(function(){f.scrollTo&&(c.animate(f.scrollTo,g.duration),f.scrollTo=null)},1);return x(b,e)}),h.scroller.on("mousedown.scrollbar",function(b){if(1!=b.which)return!0;var e=b["x"==a?"pageX":"pageY"],f=c[n]();h.scrollbar.addClass("scroll-draggable");
d(t).on("mousemove.scrollbar",function(b){b=parseInt((b["x"==a?"pageX":"pageY"]-e)/h.kx,10);c[n](f+b)});return x(function(){h.scrollbar.removeClass("scroll-draggable");l=c[n]()},b)}))});d.each(e,function(a,c){var b="scroll-scroll"+a+"_visible",d="x"==a?e.y:e.x;c.scrollbar.removeClass(b);d.scrollbar.removeClass(b);k.removeClass(b)});d.each(e,function(a,b){d.extend(b,"x"==a?{offset:parseInt(c.css("left"),10)||0,size:c.prop("scrollWidth"),visible:m.width()}:{offset:parseInt(c.css("top"),10)||0,size:c.prop("scrollHeight"),
visible:m.height()})});var r=function(a,h){var f="scroll-scroll"+a+"_visible",g="x"==a?e.y:e.x,n=parseInt(c.css("x"==a?"left":"top"),10)||0,n=h.visible+n;h.isVisible=1<h.size-n;h.isVisible?(h.scrollbar.addClass(f),g.scrollbar.addClass(f),k.addClass(f)):(h.scrollbar.removeClass(f),g.scrollbar.removeClass(f),k.removeClass(f));"y"==a&&(h.isVisible||h.size<h.visible)&&k.css("height",n+b.scroll.height+"px");if(e.x.size!=c.prop("scrollWidth")||e.y.size!=c.prop("scrollHeight")||e.x.visible!=m.width()||e.y.visible!=
m.height()||e.x.offset!=(parseInt(c.css("left"),10)||0)||e.y.offset!=(parseInt(c.css("top"),10)||0))d.each(e,function(a,b){d.extend(b,"x"==a?{offset:parseInt(c.css("left"),10)||0,size:c.prop("scrollWidth"),visible:m.width()}:{offset:parseInt(c.css("top"),10)||0,size:c.prop("scrollHeight"),visible:m.height()})}),r("x"==a?"y":"x",g)};d.each(e,r);d.isFunction(g.onUpdate)&&g.onUpdate.apply(this,[c]);d.each(e,function(a,b){var f="x"==a?"left":"top",d="x"==a?"outerWidth":"outerHeight",e="x"==a?"width":
"height",k=parseInt(c.css(f),10)||0,m=b.size,k=b.visible+k,l=b.scrollbar.find(".scroll-element_size"),l=l[d]()+(parseInt(l.css(f),10)||0);g.autoScrollSize&&(b.scrollbarSize=parseInt(l*k/m,10),b.scroller.css(e,b.scrollbarSize+"px"));b.scrollbarSize=b.scroller[d]();b.kx=(l-b.scrollbarSize)/(m-k)||1;b.maxScrollOffset=m-k});c.scrollLeft(a).scrollTop(p).trigger("scroll")}};d.fn.scrollbar=function(a,f){var c=this;"get"===a&&(c=null);this.each(function(){var k=d(this);if(k.hasClass("scroll-wrapper")||"body"==
k.get(0).nodeName)return!0;var g=k.data("scrollbar");if(g){if("get"===a)return c=g,!1;g["string"==typeof a&&g[a]?a:"init"].apply(g,d.isArray(f)?f:[]);if("destroy"===a)for(k.removeData("scrollbar");0<=d.inArray(g,b.scrolls);)b.scrolls.splice(d.inArray(g,b.scrolls),1)}else"string"!=typeof a&&(g=new z(k,a),k.data("scrollbar",g),b.scrolls.push(g));return!0});return c};d.fn.scrollbar.options=y;p.angular&&function(a){a.module("tQueryScrollbar",[]).directive("tqueryScrollbar",function(){return{link:function(a,
b){b.scrollbar(a.options).on("$destroy",function(){b.scrollbar("destroy")})},restring:"AC",scope:{options:"=tqueryScrollbar"}}})}(p.angular);var A=0,r=function(a){var d,c,k,g,e,m,p;for(d=0;d<b.scrolls.length;d++)g=b.scrolls[d],c=g.container,k=g.options,e=g.wrapper,m=g.scrollx,p=g.scrolly,(a||k.autoUpdate&&e&&e.is(":visible")&&(c.prop("scrollWidth")!=m.size||c.prop("scrollHeight")!=p.size||e.width()!=m.visible||e.height()!=p.visible))&&g.init();clearTimeout(A);A=setTimeout(r,300)}})(tQuery,document,
window);