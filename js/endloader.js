(function(a){function x(){var a=location.href;return hashtag=-1!==a.indexOf("#prettyPhoto")?decodeURI(a.substring(a.indexOf("#prettyPhoto")+1,a.length)):!1}function h(a,h){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var m=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(h);return null==m?"":m[1]}a.prettyPhoto={version:"3.1.5"};a.fn.prettyPhoto=function(k){function q(){a(".pp_loaderIcon").hide();projectedTop=scroll_pos.scrollTop+(e/2-b.containerHeight/2);0>projectedTop&&(projectedTop=0);$ppt.fadeTo(settings.animation_speed,
1);$pp_pic_holder.find(".pp_content").animate({height:b.contentHeight,width:b.contentWidth},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:0>d/2-b.containerWidth/2?0:d/2-b.containerWidth/2,width:b.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(b.height).width(b.width);$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed);isSet&&"image"==r(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():
$pp_pic_holder.find(".pp_hoverContainer").hide();settings.allow_expand&&(b.resized?a("a.pp_expand,a.pp_contract").show():a("a.pp_expand").hide());!settings.autoplay_slideshow||n||t||a.prettyPhoto.startSlideshow();settings.changepicturecallback();t=!0});isSet&&settings.overlay_gallery&&"image"==r(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((b.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<
pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),
goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,a.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave");k.ajaxcallback()}function m(c){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden");$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){a(".pp_loaderIcon").show();
c()})}function C(c){1<c?a(".pp_nav").show():a(".pp_nav").hide()}function f(a,b){resized=!1;y(a,b);imageWidth=a;imageHeight=b;if((g>d||l>e)&&doresize&&settings.allow_resize&&!p){resized=!0;for(fitting=!1;!fitting;)g>d?(imageWidth=d-200,imageHeight=b/a*imageWidth):l>e?(imageHeight=e-200,imageWidth=a/b*imageHeight):fitting=!0,l=imageHeight,g=imageWidth;(g>d||l>e)&&f(g,l);y(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(l),containerWidth:Math.floor(g)+
2*settings.horizontal_padding,contentHeight:Math.floor(u),contentWidth:Math.floor(z),resized:resized}}function y(c,b){c=parseFloat(c);b=parseFloat(b);$pp_details=$pp_pic_holder.find(".pp_details");$pp_details.width(c);detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom"));$pp_details=$pp_details.clone().addClass(settings.theme).width(c).appendTo(a("body")).css({position:"absolute",top:-1E4});detailsHeight+=$pp_details.height();detailsHeight=34>=detailsHeight?
36:detailsHeight;$pp_details.remove();$pp_title=$pp_pic_holder.find(".ppt");$pp_title.width(c);titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom"));$pp_title=$pp_title.clone().appendTo(a("body")).css({position:"absolute",top:-1E4});titleHeight+=$pp_title.height();$pp_title.remove();u=b+detailsHeight;z=c;l=u+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height();g=c}function r(a){return a.match(/youtube\.com\/watch/i)||
a.match(/youtu\.be/i)?"youtube":a.match(/vimeo\.com/i)?"vimeo":a.match(/\b.mov\b/i)?"quicktime":a.match(/\b.mp4\b/i)?"quicktime":a.match(/\b.webm\b/i)?"quicktime":a.match(/\b.mp3\b/i)?"quicktime":a.match(/\b.avi\b/i)?"quicktime":a.match(/\b.swf\b/i)?"flash":a.match(/\biframe=true\b/i)?"iframe":a.match(/\bajax=true\b/i)?"ajax":a.match(/\bcustom=true\b/i)?"custom":"#"==a.substr(0,1)?"inline":"image"}function v(){doresize&&"undefined"!=typeof $pp_pic_holder&&(scroll_pos=A(),contentHeight=$pp_pic_holder.height(),
contentwidth=$pp_pic_holder.width(),projectedTop=e/2+scroll_pos.scrollTop-contentHeight/2,0>projectedTop&&(projectedTop=0),contentHeight>e||$pp_pic_holder.css({top:projectedTop,left:d/2+scroll_pos.scrollLeft-contentwidth/2}))}function A(){if(self.pageYOffset)return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};if(document.documentElement&&document.documentElement.scrollTop)return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};if(document.body)return{scrollTop:document.body.scrollTop,
scrollLeft:document.body.scrollLeft}}function B(c){settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)));settings.markup=settings.markup.replace("{pp_social}","");a("body").append(settings.markup);$pp_pic_holder=a(".pp_pic_holder");$ppt=a(".ppt");$pp_overlay=a("div.pp_overlay");if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(c=0;c<pp_images.length;c++)pp_images[c].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname=
"",img_src=pp_images[c]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find("#pp_full_res").after(toInject);$pp_gallery=a(".pp_pic_holder .pp_gallery");$pp_gallery_li=$pp_gallery.find("li");$pp_gallery.find(".pp_arrow_next").click(function(){a.prettyPhoto.changeGalleryPage("next");a.prettyPhoto.stopSlideshow();return!1});$pp_gallery.find(".pp_arrow_previous").click(function(){a.prettyPhoto.changeGalleryPage("previous");
a.prettyPhoto.stopSlideshow();return!1});$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()});itemWidth=57;$pp_gallery_li.each(function(c){a(this).find("a").click(function(){a.prettyPhoto.changePage(c);a.prettyPhoto.stopSlideshow();return!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){a.prettyPhoto.startSlideshow();
return!1}));$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme);$pp_overlay.css({opacity:0,height:a(document).height(),width:a(window).width()}).bind("click",function(){settings.modal||a.prettyPhoto.close()});a("a.pp_close").bind("click",function(){a.prettyPhoto.close();return!1});settings.allow_expand&&a("a.pp_expand").bind("click",function(c){a(this).hasClass("pp_expand")?(a(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(a(this).removeClass("pp_contract").addClass("pp_expand"),
doresize=!0);m(function(){a.prettyPhoto.open()});return!1});$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){a.prettyPhoto.changePage("previous");a.prettyPhoto.stopSlideshow();return!1});$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){a.prettyPhoto.changePage("next");a.prettyPhoto.stopSlideshow();return!1});v()}k=tQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5E3,autoplay_slideshow:!1,opacity:.8,
show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> \t\t\t\t\t\t<div class="ppt"> </div> \t\t\t\t\t\t<div class="pp_top"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_content_container"> \t\t\t\t\t\t\t<div class="pp_left"> \t\t\t\t\t\t\t<div class="pp_right"> \t\t\t\t\t\t\t\t<div class="pp_content"> \t\t\t\t\t\t\t\t\t<div class="pp_loaderIcon"></div> \t\t\t\t\t\t\t\t\t<div class="pp_fade"> \t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_expand" title="Expand the image">Expand</a> \t\t\t\t\t\t\t\t\t\t<div class="pp_hoverContainer"> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_next" href="#">next</a> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_previous" href="#">previous</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t<div id="pp_full_res"></div> \t\t\t\t\t\t\t\t\t\t<div class="pp_details"> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_nav"> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t\t\t\t\t<p class="currentTextHolder">0/0</p> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t\t<p class="pp_description"></p> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_social">{pp_social}</div> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_close" href="#">Close</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_bottom"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t\t<div class="pp_overlay"></div>',
gallery_markup:'<div class="pp_gallery"> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t<div> \t\t\t\t\t\t\t\t\t<ul> \t\t\t\t\t\t\t\t\t\t{gallery} \t\t\t\t\t\t\t\t\t</ul> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',
quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',
inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js">\x3c/script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},
k);var w=this,p=!1,b,t,u,z,l,g,e=a(window).height(),d=a(window).width(),n;doresize=!0;scroll_pos=A();a(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){v();e=a(window).height();d=a(window).width();"undefined"!=typeof $pp_overlay&&$pp_overlay.height(a(document).height()).width(d)});k.keyboard_shortcuts&&a(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(c){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(c.keyCode){case 37:a.prettyPhoto.changePage("previous");
c.preventDefault();break;case 39:a.prettyPhoto.changePage("next");c.preventDefault();break;case 27:settings.modal||a.prettyPhoto.close(),c.preventDefault()}});a.prettyPhoto.initialize=function(){settings=k;"pp_default"==settings.theme&&(settings.horizontal_padding=16);theRel=a(this).attr(settings.hook);galleryRegExp=/\[(?:.*)\]/;pp_images=(isSet=galleryRegExp.exec(theRel)?!0:!1)?tQuery.map(w,function(c,b){if(-1!=a(c).attr(settings.hook).indexOf(theRel))return a(c).attr("href")}):a.makeArray(a(this).attr("href"));
pp_titles=isSet?tQuery.map(w,function(c,b){if(-1!=a(c).attr(settings.hook).indexOf(theRel))return a(c).find("img").attr("alt")?a(c).find("img").attr("alt"):""}):a.makeArray(a(this).find("img").attr("alt"));pp_descriptions=isSet?tQuery.map(w,function(c,b){if(-1!=a(c).attr(settings.hook).indexOf(theRel))return a(c).attr("title")?a(c).attr("title"):""}):a.makeArray(a(this).attr("title"));pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1);set_position=tQuery.inArray(a(this).attr("href"),
pp_images);rel_index=isSet?set_position:a("a["+settings.hook+"^='"+theRel+"']").index(a(this));B(this);settings.allow_resize&&a(window).bind("scroll.prettyphoto",function(){v()});a.prettyPhoto.open();return!1};a.prettyPhoto.open=function(c,d,e,g){"undefined"==typeof settings&&(settings=k,pp_images=a.makeArray(c),pp_titles=d?a.makeArray(d):a.makeArray(""),pp_descriptions=e?a.makeArray(e):a.makeArray(""),isSet=1<pp_images.length?!0:!1,set_position=g?g:0,B(c.target));settings.hideflash&&a("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility",
"hidden");C(a(pp_images).size());a(".pp_loaderIcon").show();settings.deeplinking&&"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/");settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link));$ppt.is(":hidden")&&$ppt.css("opacity",0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(".currentTextHolder").text(set_position+
1+settings.counter_separator_label+a(pp_images).size());"undefined"!=typeof pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide();movie_width=parseFloat(h("width",pp_images[set_position]))?h("width",pp_images[set_position]):settings.default_width.toString();movie_height=parseFloat(h("height",pp_images[set_position]))?h("height",pp_images[set_position]):
settings.default_height.toString();p=!1;-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(a(window).height()*parseFloat(movie_height)/100-150),p=!0);-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(a(window).width()*parseFloat(movie_width)/100-150),p=!0);$pp_pic_holder.fadeIn(function(){settings.show_title&&""!=pp_titles[set_position]&&"undefined"!=typeof pp_titles[set_position]?$ppt.html(unescape(pp_titles[set_position])):$ppt.html(" ");imgPreloader="";skipInjection=!1;switch(r(pp_images[set_position])){case "image":imgPreloader=
new Image;nextImage=new Image;isSet&&set_position<a(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]);prevImage=new Image;isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){b=f(imgPreloader.width,imgPreloader.height);q()};imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");
a.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case "youtube":b=f(movie_width,movie_height);movie_id=h("v",pp_images[set_position]);""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],0<movie_id.indexOf("?")&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),0<movie_id.indexOf("&")&&(movie_id=movie_id.substr(0,movie_id.indexOf("&"))));movie="http://www.youtube.com/embed/"+movie_id;h("rel",pp_images[set_position])?movie+="?rel="+h("rel",
pp_images[set_position]):movie+="?rel=1";settings.autoplay&&(movie+="&autoplay=1");toInject=settings.iframe_markup.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case "vimeo":b=f(movie_width,movie_height);movie_id=pp_images[set_position];movie="http://player.vimeo.com/video/"+movie_id.match(/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/)[3]+"?title=0&byline=0&portrait=0";settings.autoplay&&(movie+="&autoplay=1;");vimeo_width=b.width+
"/embed/?moog_width="+b.width;toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,b.height).replace(/{path}/g,movie);break;case "quicktime":b=f(movie_width,movie_height);b.height+=15;b.contentHeight+=15;b.containerHeight+=15;toInject=settings.quicktime_markup.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case "flash":b=f(movie_width,
movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf("?"));toInject=settings.flash_markup.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case "iframe":b=f(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=
frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=settings.iframe_markup.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{path}/g,frame_url);break;case "ajax":doresize=!1;b=f(movie_width,movie_height);skipInjection=doresize=!0;a.get(pp_images[set_position],function(a){toInject=settings.inline_markup.replace(/{content}/g,a);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;q()});break;case "custom":b=f(movie_width,movie_height);toInject=settings.custom_markup;break;
case "inline":myClone=a(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(a("body")).show(),doresize=!1,b=f(a(myClone).width(),a(myClone).height()),doresize=!0,a(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,a(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,q())});return!1};
a.prettyPhoto.changePage=function(c){currentGalleryPage=0;"previous"==c?(set_position--,0>set_position&&(set_position=a(pp_images).size()-1)):"next"==c?(set_position++,set_position>a(pp_images).size()-1&&(set_position=0)):set_position=c;rel_index=set_position;doresize||(doresize=!0);settings.allow_expand&&a(".pp_contract").removeClass("pp_contract").addClass("pp_expand");m(function(){a.prettyPhoto.open()})};a.prettyPhoto.changeGalleryPage=function(a){"next"==a?(currentGalleryPage++,currentGalleryPage>
totalPage&&(currentGalleryPage=0)):"previous"==a?(currentGalleryPage--,0>currentGalleryPage&&(currentGalleryPage=totalPage)):currentGalleryPage=a;slide_speed="next"==a||"previous"==a?settings.animation_speed:0;slide_to=currentGalleryPage*itemsPerPage*itemWidth;$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)};a.prettyPhoto.startSlideshow=function(){"undefined"==typeof n?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){a.prettyPhoto.stopSlideshow();
return!1}),n=setInterval(a.prettyPhoto.startSlideshow,settings.slideshow)):a.prettyPhoto.changePage("next")};a.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){a.prettyPhoto.startSlideshow();return!1});clearInterval(n);n=void 0};a.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(a.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),a("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,
function(){a(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&a("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible");a(this).remove();a(window).unbind("scroll.prettyphoto");-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto");settings.callback();doresize=!0;t=!1;delete settings}))};!pp_alreadyInitialized&&x()&&(pp_alreadyInitialized=!0,hashRel=hashIndex=x(),hashIndex=hashIndex.substring(hashIndex.indexOf("/")+
1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){a("a["+k.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50));return this.unbind("click.prettyphoto").bind("click.prettyphoto",a.prettyPhoto.initialize)}})(tQuery);var pp_alreadyInitialized=!1;

(function(d,t,p){function q(a){if(b.webkit&&!a)return{height:0,width:0};b.data.outer||(a={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"},b.data.inner=d("<div>").css(d.extend({},a)),b.data.outer=d("<div>").css(d.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},a)).append(b.data.inner).appendTo("body"));b.data.outer.scrollLeft(1E3).scrollTop(1E3);return{height:Math.ceil(b.data.outer.offset().top-b.data.inner.offset().top||0),
width:Math.ceil(b.data.outer.offset().left-b.data.inner.offset().left||0)}}function x(a,f){d(t).on({"blur.scrollbar":function(){d(t).add("body").off(".scrollbar");a&&a()},"dragstart.scrollbar":function(c){c.preventDefault();return!1},"mouseup.scrollbar":function(){d(t).add("body").off(".scrollbar");a&&a()}});d("body").on({"selectstart.scrollbar":function(c){c.preventDefault();return!1}});f&&f.preventDefault();return!1}function B(){var a=q(!0);return!(a.height||a.width)}function v(a){a=a.originalEvent;
return a.axis&&a.axis===a.HORIZONTAL_AXIS||a.wheelDeltaX?!1:!0}var b={data:{},macosx:-1!==p.navigator.platform.toLowerCase().indexOf("mac"),mobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(p.navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/WebKit/.test(p.navigator.userAgent),log:function(){}},y={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!0,ignoreOverlay:!0,scrollStep:30,showArrows:!1,stepScrolling:!0,type:"simple",scrollx:null,
scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},z=function(a,f){b.scroll||(b.log("Init tQuery Scrollbars"),b.overlay=B(),b.scroll=q(),r(),d(p).resize(function(){var c=!1;if(b.scroll&&(b.scroll.height||b.scroll.width)){var a=q();if(a.height!=b.scroll.height||a.width!=b.scroll.width)b.scroll=a,c=!0}r(c)}));this.container=a;this.options=d.extend({},y,p.tQueryScrollbarOptions||{});this.scrollTo=null;this.scrollx={};this.scrolly={};this.init(f)};z.prototype={destroy:function(){if(this.wrapper){var a=
this.container.scrollLeft(),f=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:""}).removeClass("scroll-content").removeClass("scroll-scrollx_visible").removeClass("scroll-scrolly_visible").off(".scrollbar").scrollLeft(a).scrollTop(f);this.scrollx.scrollbar.removeClass("scroll-scrollx_visible").find("div").andSelf().off(".scrollbar");this.scrolly.scrollbar.removeClass("scroll-scrolly_visible").find("div").andSelf().off(".scrollbar");this.wrapper.remove();
d(t).add("body").off(".scrollbar");d.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},getScrollbar:function(a){var f=this.options["scroll"+a],c={advanced:'<div class="scroll-element_corner"></div><div class="scroll-arrow scroll-arrow_less"></div><div class="scroll-arrow scroll-arrow_more"></div><div class="scroll-element_outer">    <div class="scroll-element_size"></div>    <div class="scroll-element_inner-wrapper">        <div class="scroll-element_inner scroll-element_track">            <div class="scroll-element_inner-bottom"></div>        </div>    </div>    <div class="scroll-bar">        <div class="scroll-bar_body">            <div class="scroll-bar_body-inner"></div>        </div>        <div class="scroll-bar_bottom"></div>        <div class="scroll-bar_center"></div>    </div></div>',
simple:'<div class="scroll-element_outer">    <div class="scroll-element_size"></div>    <div class="scroll-element_track"></div>    <div class="scroll-bar"></div></div>'},b=c[this.options.type]?this.options.type:"advanced",f=f?"string"==typeof f?d(f).appendTo(this.wrapper):d(f):d("<div>").addClass("scroll-element").html(c[b]).appendTo(this.wrapper);this.options.showArrows&&f.addClass("scroll-element_arrows_visible");return f.addClass("scroll-"+a)},init:function(a){var f=this,c=this.container,k=this.containerWrapper||
c,g=d.extend(this.options,a||{}),e={x:this.scrollx,y:this.scrolly},m=this.wrapper;a=c.scrollLeft();var p=c.scrollTop();if(b.mobile&&g.ignoreMobile||b.overlay&&g.ignoreOverlay||b.macosx&&!b.webkit)return!1;if(m)k.css({height:"","margin-bottom":-1*b.scroll.height+"px","margin-right":-1*b.scroll.width+"px"});else{this.wrapper=m=d("<div>").addClass("scroll-wrapper").addClass(c.attr("class")).css("position","absolute"==c.css("position")?"absolute":"relative").insertBefore(c).append(c);c.is("textarea")&&
(this.containerWrapper=k=d("<div>").insertBefore(c).append(c),m.addClass("scroll-textarea"));k.addClass("scroll-content").css({height:"","margin-bottom":-1*b.scroll.height+"px","margin-right":-1*b.scroll.width+"px"});c.on("scroll.scrollbar",function(a){d.isFunction(g.onScroll)&&g.onScroll.call(f,{maxScroll:e.y.maxScrollOffset,scroll:c.scrollTop(),size:e.y.size,visible:e.y.visible},{maxScroll:e.x.maxScrollOffset,scroll:c.scrollLeft(),size:e.x.size,visible:e.x.visible});e.x.isVisible&&e.x.scroller.css("left",
c.scrollLeft()*e.x.kx+"px");e.y.isVisible&&e.y.scroller.css("top",c.scrollTop()*e.y.kx+"px")});m.on("scroll",function(){m.scrollTop(0).scrollLeft(0)});if(g.disableBodyScroll){var q=function(c){v(c)?e.y.isVisible&&e.y.mousewheel(c):e.x.isVisible&&e.x.mousewheel(c)};m.on({"MozMousePixelScroll.scrollbar":q,"mousewheel.scrollbar":q});if(b.mobile)m.on("touchstart.scrollbar",function(a){a=a.originalEvent.touches&&a.originalEvent.touches[0]||a;var h=a.pageX,f=a.pageY,e=c.scrollLeft(),b=c.scrollTop();d(t).on({"touchmove.scrollbar":function(a){var d=
a.originalEvent.targetTouches&&a.originalEvent.targetTouches[0]||a;c.scrollLeft(e+h-d.pageX);c.scrollTop(b+f-d.pageY);a.preventDefault()},"touchend.scrollbar":function(){d(t).off(".scrollbar")}})})}d.isFunction(g.onInit)&&g.onInit.apply(this,[c])}d.each(e,function(a,h){var b=null,u=1,n="x"==a?"scrollLeft":"scrollTop",k=g.scrollStep,m=function(){var a=c[n]();c[n](a+k);1==u&&a+k>=l&&(a=c[n]());-1==u&&a+k<=l&&(a=c[n]());c[n]()==a&&b&&b()},l=0;h.scrollbar||(h.scrollbar=f.getScrollbar(a),h.scroller=h.scrollbar.find(".scroll-bar"),
h.mousewheel=function(b){if(!h.isVisible||"x"==a&&v(b))return!0;if("y"==a&&!v(b))return e.x.mousewheel(b),!0;var d=-1*b.originalEvent.wheelDelta||b.originalEvent.detail,g=h.size-h.visible-h.offset;0>=l&&0>d||l>=g&&0<d||(l+=d,0>l&&(l=0),l>g&&(l=g),f.scrollTo=f.scrollTo||{},f.scrollTo[n]=l,setTimeout(function(){f.scrollTo&&(c.stop().animate(f.scrollTo,240,"linear",function(){l=c[n]()}),f.scrollTo=null)},1));b.preventDefault();return!1},h.scrollbar.on({"MozMousePixelScroll.scrollbar":h.mousewheel,"mousewheel.scrollbar":h.mousewheel,
"mouseenter.scrollbar":function(){l=c[n]()}}),h.scrollbar.find(".scroll-arrow, .scroll-element_track").on("mousedown.scrollbar",function(e){if(1!=e.which)return!0;u=1;var p=e["x"==a?"pageX":"pageY"],t=h.size-h.visible-h.offset,w=h.scroller.offset()["x"==a?"left":"top"],q=h.scroller["x"==a?"outerWidth":"outerHeight"](),r=0,v=0;d(this).hasClass("scroll-arrow")?(u=d(this).hasClass("scroll-arrow_more")?1:-1,k=g.scrollStep*u,l=0<u?t:0):(u=p>w+q?1:p<w?-1:0,k=Math.round(.75*h.visible)*u,l=p-w-(g.stepScrolling?
1==u?q:0:Math.round(q/2)),l=c[n]()+l/h.kx);f.scrollTo=f.scrollTo||{};f.scrollTo[n]=g.stepScrolling?c[n]()+k:l;g.stepScrolling&&(b=function(){l=c[n]();clearInterval(v);clearTimeout(r);v=r=0},r=setTimeout(function(){v=setInterval(m,40)},g.duration+100));setTimeout(function(){f.scrollTo&&(c.animate(f.scrollTo,g.duration),f.scrollTo=null)},1);return x(b,e)}),h.scroller.on("mousedown.scrollbar",function(b){if(1!=b.which)return!0;var e=b["x"==a?"pageX":"pageY"],f=c[n]();h.scrollbar.addClass("scroll-draggable");
d(t).on("mousemove.scrollbar",function(b){b=parseInt((b["x"==a?"pageX":"pageY"]-e)/h.kx,10);c[n](f+b)});return x(function(){h.scrollbar.removeClass("scroll-draggable");l=c[n]()},b)}))});d.each(e,function(a,c){var b="scroll-scroll"+a+"_visible",d="x"==a?e.y:e.x;c.scrollbar.removeClass(b);d.scrollbar.removeClass(b);k.removeClass(b)});d.each(e,function(a,b){d.extend(b,"x"==a?{offset:parseInt(c.css("left"),10)||0,size:c.prop("scrollWidth"),visible:m.width()}:{offset:parseInt(c.css("top"),10)||0,size:c.prop("scrollHeight"),
visible:m.height()})});var r=function(a,h){var f="scroll-scroll"+a+"_visible",g="x"==a?e.y:e.x,n=parseInt(c.css("x"==a?"left":"top"),10)||0,n=h.visible+n;h.isVisible=1<h.size-n;h.isVisible?(h.scrollbar.addClass(f),g.scrollbar.addClass(f),k.addClass(f)):(h.scrollbar.removeClass(f),g.scrollbar.removeClass(f),k.removeClass(f));"y"==a&&(h.isVisible||h.size<h.visible)&&k.css("height",n+b.scroll.height+"px");if(e.x.size!=c.prop("scrollWidth")||e.y.size!=c.prop("scrollHeight")||e.x.visible!=m.width()||e.y.visible!=
m.height()||e.x.offset!=(parseInt(c.css("left"),10)||0)||e.y.offset!=(parseInt(c.css("top"),10)||0))d.each(e,function(a,b){d.extend(b,"x"==a?{offset:parseInt(c.css("left"),10)||0,size:c.prop("scrollWidth"),visible:m.width()}:{offset:parseInt(c.css("top"),10)||0,size:c.prop("scrollHeight"),visible:m.height()})}),r("x"==a?"y":"x",g)};d.each(e,r);d.isFunction(g.onUpdate)&&g.onUpdate.apply(this,[c]);d.each(e,function(a,b){var f="x"==a?"left":"top",d="x"==a?"outerWidth":"outerHeight",e="x"==a?"width":
"height",k=parseInt(c.css(f),10)||0,m=b.size,k=b.visible+k,l=b.scrollbar.find(".scroll-element_size"),l=l[d]()+(parseInt(l.css(f),10)||0);g.autoScrollSize&&(b.scrollbarSize=parseInt(l*k/m,10),b.scroller.css(e,b.scrollbarSize+"px"));b.scrollbarSize=b.scroller[d]();b.kx=(l-b.scrollbarSize)/(m-k)||1;b.maxScrollOffset=m-k});c.scrollLeft(a).scrollTop(p).trigger("scroll")}};d.fn.scrollbar=function(a,f){var c=this;"get"===a&&(c=null);this.each(function(){var k=d(this);if(k.hasClass("scroll-wrapper")||"body"==
k.get(0).nodeName)return!0;var g=k.data("scrollbar");if(g){if("get"===a)return c=g,!1;g["string"==typeof a&&g[a]?a:"init"].apply(g,d.isArray(f)?f:[]);if("destroy"===a)for(k.removeData("scrollbar");0<=d.inArray(g,b.scrolls);)b.scrolls.splice(d.inArray(g,b.scrolls),1)}else"string"!=typeof a&&(g=new z(k,a),k.data("scrollbar",g),b.scrolls.push(g));return!0});return c};d.fn.scrollbar.options=y;p.angular&&function(a){a.module("tQueryScrollbar",[]).directive("tqueryScrollbar",function(){return{link:function(a,
b){b.scrollbar(a.options).on("$destroy",function(){b.scrollbar("destroy")})},restring:"AC",scope:{options:"=tqueryScrollbar"}}})}(p.angular);var A=0,r=function(a){var d,c,k,g,e,m,p;for(d=0;d<b.scrolls.length;d++)g=b.scrolls[d],c=g.container,k=g.options,e=g.wrapper,m=g.scrollx,p=g.scrolly,(a||k.autoUpdate&&e&&e.is(":visible")&&(c.prop("scrollWidth")!=m.size||c.prop("scrollHeight")!=p.size||e.width()!=m.visible||e.height()!=p.visible))&&g.init();clearTimeout(A);A=setTimeout(r,300)}})(tQuery,document,
window);

(function(b){b.fn.iShare=function(g){var l={facebook:{base:"http://www.facebook.com/share.php?",urlkey:"u="},twitter:{base:"http://twitter.com/intent/tweet?",urlkey:"url="},pinterest:{base:"http://pinterest.com/pin/create/button/?",urlkey:"url=",imgkey:"media=",titlekey:"title="},linkedin:{base:"http://www.linkedin.com/shareArticle?",urlkey:"url="},"google-plus":{base:"https://plus.google.com/share?",urlkey:"url="},reddit:{base:"http://www.reddit.com/submit?",urlkey:"url="},tumblr:{base:"http://www.tumblr.com/share?v=3&",
urlkey:"u=",titlekey:"t="},stumbleupon:{base:"http://www.stumbleupon.com/submit?",urlkey:"url=",titlekey:"title="},email:{base:"mailto:?",urlkey:"body=",titlekey:"subject="}},a=b.extend({icons:!0,set:"7",url:window.location.href,image:"#ishare-pinterest"},g);g=b(this);var h=b(this).parent().attr("url")||b(this).parent().parent().attr("url"),k=b(a.image),m=function(a){a=window.open(a.data.url,a.data.title,"height=400,width=600");window.focus&&a.focus();return!1},c="",e,d,f;"1"==a.set?c="-1":"2"==a.set?
c="-2":"3"==a.set?c="-3":"4"==a.set?c="-4":"5"==a.set?c="-5":"6"==a.set?c="-6":"7"==a.set?c="-7":"8"==a.set&&(c="-8");h&&(a.url=h);g.each(function(){e=b(this).attr("data-service");d=l[e];void 0!==d&&(f=d.base+d.urlkey+escape(b(this).attr("url")||a.url),k&&d.imgkey&&(f=f+"&"+d.imgkey+k[0].src),a.icons&&b(this).addClass("socicon-"+e+("newservicestoadd"==e&&"-3"==c?"":c)),b(this).attr("href",f),b(this).bind("click",{url:f,title:"Share on "+e},m))})}})(tQuery);
