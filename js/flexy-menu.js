$.fn.icmenu=function(e){function c(){$(".iconnect-menu").find("li").unbind();$(".iconnect-menu").find("ul").hide(0);768>=window.innerWidth?(f(),g(),1==b&&(d(),b=!1)):($(".iconnect-menu > li").show(0),$(".iconnect-menu > li.showhide").hide(0),h(),"horizontal"==a.type&&"right"==a.align&&0==b&&(d(),b=!0))}function h(){$(".iconnect-menu li").bind("mouseover",function(){$(this).children("ul").stop(!0,!0).fadeIn(a.speed)}).bind("mouseleave",function(){$(this).children("ul").stop(!0,!0).fadeOut()})}function g(){$(".iconnect-menu > li").bind("click",
function(){"none"==$(this).children("ul").css("display")?$(this).find("ul").slideDown(a.interval):$(this).children("ul").slideUp(a.interval)})}function f(){$(".iconnect-menu > li:not(.showhide)").hide(0);$(".iconnect-menu > li.showhide").show(0);$(".iconnect-menu > li.showhide").bind("click",function(){$(".iconnect-menu > li").is(":hidden")?$(".iconnect-menu > li").slideDown(300):($(".iconnect-menu > li:not(.showhide)").slideUp(300),$(".iconnect-menu > li.showhide").show(0))})}function d(){$(".iconnect-menu > li").addClass("right");
$(".iconnect-menu").width();var a=$(".iconnect-menu").children("li");$(".iconnect-menu").children("li:not(.showhide)").detach();for(var b=a.length;1<=b;b--)$(".iconnect-menu").append(a[b])}var a={speed:300,type:"horizontal",align:"left",indicator:!1};$.extend(a,e);var b=!1;"vertical"==a.type&&($(".iconnect-menu").addClass("vertical"),"right"==a.align&&$(".iconnect-menu").addClass("right"));1==a.indicator&&$(".iconnect-menu").find("li").each(function(){0<$(this).children("ul").length&&$(this).append("<span class='indicator'>+</span>")});
$(".iconnect-menu").prepend("<li class='showhide'><span class='icon'></span></li>");c();$(window).resize(function(){c()})};